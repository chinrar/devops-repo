
# Docker

## 1. Docker Architecture Overview

At a high level, Docker follows a clientâ€“server architecture:

+--------------------+
|  Docker Client     |  --->  CLI - docker build/run/push commands
+--------------------+
           |
           v
+--------------------+
|  Docker Daemon     |  --->  Builds, runs, manages containers
+--------------------+
           |
           v
+--------------------+
|  Docker Objects    |  --->  Images, Containers, Volumes, Networks
+--------------------+


## 2. Main Components

### A. Docker Client (docker)

The command-line tool (CLI) that you use to interact with Docker.
Sends commands (via REST API) to the Docker daemon.

Examples:
docker build -t myapp .
docker run -p 8080:80 myapp
docker ps


Client can connect to:
Local Docker daemon (/var/run/docker.sock)
Remote daemon (via TCP socket)

### B. Docker Daemon (dockerd)

The core service running in the background.

Responsible for:

Building images
Running containers
Managing networks and volumes

Exposes a REST API used by the CLI or other tools (like Docker Compose or Kubernetes).

Example:
When you run docker run nginx, the CLI sends this request to the daemon, which:

Checks if the nginx image exists locally.
Pulls it from Docker Hub if missing.
Creates a container from the image.
Starts the container.

### C. Docker Images

Read-only blueprints used to create containers.

Built using a Dockerfile (set of build instructions).

Example:

FROM openjdk:17
COPY app.jar /app.jar
ENTRYPOINT ["java","-jar","/app.jar"]


Each image is made up of layers (copy-on-write).
Stored locally and optionally pushed to registries.

### D. Docker Containers

Running instances of Docker images.
Lightweight, isolated, and portable.
Can be started, stopped, and removed using Docker CLI.

Example:
docker run -d -p 8080:80 nginx
(Runs Nginx in a container accessible on port 8080)

### E. Docker Registry

A storage and distribution system for Docker images.
Docker Hub is the default public registry.
You can set up private registries for internal use.

docker pull ubuntu
docker push myrepo/myapp:latest

## 3. Supporting Components

### A. Docker Volumes

Provide persistent storage for containers.
Data survives even if the container is deleted.

docker volume create mydata
docker run -v mydata:/app/data myapp

### B. Docker Networks

Allow communication between containers.

Types:

bridge (default)
host
none
overlay (used in Swarm)

docker network create mynet
docker run --network=mynet myapp

### C. Docker Compose

A tool for defining and running multi-container applications.

Uses a YAML file (docker-compose.yml).

version: "3"
services:
  web:
    image: nginx
    ports:
      - "8080:80"
  db:
    image: postgres

docker-compose up -d

### D. Docker Desktop

GUI + integrated environment for Windows and macOS.

Includes:

Docker Engine (daemon)

Docker CLI

Kubernetes support

Docker Compose

### E. Docker Swarm (Optional)

Dockerâ€™s native clustering & orchestration tool.

Helps manage multiple Docker hosts as a single virtual cluster.

docker swarm init
docker service create --replicas 3 nginx


(Note: Kubernetes has mostly replaced Swarm in modern setups.)

ðŸ§© 4. Summary Diagram (Conceptually)
+---------------------------------------------------+
|                 Docker Client (CLI/UI)            |
|   docker build / run / push / pull / compose      |
+---------------------------------------------------+
                    |
                    v
+---------------------------------------------------+
|                Docker Daemon (dockerd)            |
|   Builds images, runs containers, manages storage |
+---------------------------------------------------+
        |             |             |             |
        v             v             v             v
   +---------+   +-----------+   +-----------+   +-------------+
   |  Images |   | Containers|   |  Networks |   |  Volumes    |
   +---------+   +-----------+   +-----------+   +-------------+
                    |
                    v
          +-------------------+
          | Docker Registry   |
          | (Hub / Private)   |
          +-------------------+
