# Passing environment variables to Docker containers

## Define an environment variable in your Dockerfile (optional)

You can set default values inside the Dockerfile using the ENV instruction:
Example snippet from Dockerfile
```bash
ENV PORT=3000
ENV NODE_ENV=production
```

These can later be overridden when running the container.

## Pass environment variables at runtime

You can inject variables when you start the container using the -e or --env flag:

docker run -p 3000:3000 -e PORT=8080 -e NODE_ENV=development my-node-app


Here, the container will use:

PORT=8080
NODE_ENV=development

which override the defaults in the Dockerfile.

## Pass variables from a .env file

Create a .env file in your project root:

PORT=8080
NODE_ENV=staging
DB_URL=mongodb://mongo:27017/mydb


Then run:

docker run --env-file .env -p 3000:3000 my-node-app


Docker automatically loads all key=value pairs from the .env file into the container environment.

## Access env vars inside Node.js

In your Node.js app, use process.env:

const port = process.env.PORT || 3000;
app.listen(port, () => console.log(`App running on port ${port}`));

## Summary
Method	                Example	         Notes
Hardcode in Dockerfile	ENV PORT=3000	 Sets a default value
Inline at runtime	    docker run -e PORT=8080 my-node-app	Overrides Dockerfile value
From file	            docker run --env-file .env my-node-app	Loads many vars easily
```